"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.visibleHelperInvert = exports.visibleHelper = void 0;

var _object = _interopRequireDefault(require("object.assign"));

var _react = _interopRequireDefault(require("react"));

var _isString2 = _interopRequireDefault(require("@antv/util/lib/is-string"));

var _isBoolean2 = _interopRequireDefault(require("@antv/util/lib/is-boolean"));

var _isObject2 = _interopRequireDefault(require("@antv/util/lib/is-object"));

// plot visible 写法的快速转换
var visibleHelper = function visibleHelper(cfg) {
  var defaultVisible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

  if ((0, _isString2["default"])(cfg) || /*#__PURE__*/_react["default"].isValidElement(cfg)) {
    return {
      visible: true,
      text: cfg
    };
  }

  if ((0, _isBoolean2["default"])(cfg)) {
    return {
      visible: cfg
    };
  }

  if ((0, _isObject2["default"])(cfg)) {
    return (0, _object["default"])({
      visible: true
    }, cfg);
  }

  return {
    visible: defaultVisible
  };
};

exports.visibleHelper = visibleHelper;

var visibleHelperInvert = function visibleHelperInvert(cfg) {
  // @ts-ignore
  if ((0, _isObject2["default"])(cfg) && cfg.visible !== false) {
    // @ts-ignore
    return cfg.text;
  }

  return cfg;
};

exports.visibleHelperInvert = visibleHelperInvert;