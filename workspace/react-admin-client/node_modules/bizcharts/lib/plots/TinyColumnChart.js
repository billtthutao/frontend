"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

require("react");

var _tinyColumn = require("@antv/g2plot/lib/plots/tiny-column");

var _set = _interopRequireDefault(require("@antv/util/lib/set"));

var _createPlot = _interopRequireDefault(require("../createPlot"));

var _polyfill = require("./core/polyfill");

var _util = require("@antv/util");

var polyfill = function polyfill(opt) {
  var options = (0, _polyfill.polyfillOptions)(opt);

  if (!(0, _util.isNil)(options.yField)) {
    // yField不是null/undefined
    var list = options.data.map(function (item) {
      return item[options.yField];
    }).filter(function (val) {
      return !(0, _util.isNil)(val);
    });
    list && list.length && (0, _set["default"])(options, 'data', list);
  }

  (0, _set["default"])(options, 'tooltip', false);
  return options;
};

var _default = (0, _createPlot["default"])(_tinyColumn.TinyColumn, 'TinyColumnChart', polyfill);

exports["default"] = _default;