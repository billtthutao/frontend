{"ast":null,"code":"import _objectSpread from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter,Link}from'react-router-dom';import{Button,Card,Table,Tag,Space,message}from'antd';import{PlusOutlined}from'@ant-design/icons';import{connect}from'react-redux';import{getSubmittedRequests}from'../../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Column=Table.Column;var DOCheck=/*#__PURE__*/function(_Component){_inherits(DOCheck,_Component);var _super=_createSuper(DOCheck);function DOCheck(){var _this;_classCallCheck(this,DOCheck);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={submittedRequests:[],loading:false};_this.fetchSubmittedRequests=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(type){var response,submittedRequests;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return getSubmittedRequests(type);case 3:response=_context.sent;if(response.code===0){submittedRequests=response.data;_this.setState({submittedRequests:submittedRequests,loading:false});}else{message.error(\"Fetch submitted requests failed\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(DOCheck,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchSubmittedRequests('domestic');}},{key:\"render\",value:function render(){var _this2=this;var title='Check Domestic Mobility Proxy Forms';var extra=/*#__PURE__*/_jsx(Button,{type:\"primary\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),onClick:function onClick(){return _this2.props.history.push('/dashboard/do-submit');},children:\"Add\"});return/*#__PURE__*/_jsx(Card,{title:title,extra:extra,children:/*#__PURE__*/_jsxs(Table,{dataSource:this.state.submittedRequests,bordered:true,pagination:{defaultPageSize:4,showQuickJumper:true},loading:this.state.loading,children:[/*#__PURE__*/_jsx(Column,{title:\"File Name\",dataIndex:\"fileName\",render:function render(fileName){return/*#__PURE__*/_jsx(\"a\",{href:\"javascript:;\",children:fileName});}},\"fileName\"),/*#__PURE__*/_jsx(Column,{title:\"Requester\",dataIndex:\"requester\"},\"requester\"),/*#__PURE__*/_jsx(Column,{title:\"Submit Date\",dataIndex:\"submitDate\"},\"submitDate\"),/*#__PURE__*/_jsx(Column,{title:\"Comment\",dataIndex:\"comment\"},\"comment\"),/*#__PURE__*/_jsx(Column,{title:\"Status\",dataIndex:\"tags\",render:function render(tags){return/*#__PURE__*/_jsx(_Fragment,{children:tags.map(function(tag){var color=\"blue\";return/*#__PURE__*/_jsx(Tag,{color:color,children:tag},tag);})});}},\"tags\"),/*#__PURE__*/_jsx(Column,{title:\"Action\",render:function render(text,record){return/*#__PURE__*/_jsx(Space,{size:\"middle\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/dashboard/do-request-detail\",state:_objectSpread({},record)},children:\"Details\"})});}},\"action\")]})});}}]);return DOCheck;}(Component);export default connect(function(state){return{};},{})(withRouter(DOCheck));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/DOCheck/DOCheck.jsx"],"names":["React","Component","withRouter","Link","Button","Card","Table","Tag","Space","message","PlusOutlined","connect","getSubmittedRequests","Column","DOCheck","state","submittedRequests","loading","fetchSubmittedRequests","type","setState","response","code","data","error","title","extra","props","history","push","defaultPageSize","showQuickJumper","fileName","tags","map","tag","color","text","record","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { Button, Card, Table, Tag, Space, message } from 'antd'\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport {getSubmittedRequests} from '../../api'\r\n\r\nconst { Column } = Table;\r\n\r\nclass DOCheck extends Component {\r\n    state = {submittedRequests:[],loading:false}\r\n\r\n    fetchSubmittedRequests = async (type) => {\r\n        this.setState({loading:true})\r\n        let response = await getSubmittedRequests(type)\r\n        if(response.code === 0){\r\n            let submittedRequests = response.data\r\n            this.setState({submittedRequests,loading:false})\r\n        }else{\r\n            message.error(\"Fetch submitted requests failed\")\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchSubmittedRequests('domestic')\r\n    }\r\n\r\n    render() {\r\n        const title = 'Check Domestic Mobility Proxy Forms';\r\n        const extra = (<Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this.props.history.push('/dashboard/do-submit')}>Add</Button>)\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n                <Table dataSource={this.state.submittedRequests} bordered pagination={{defaultPageSize:4, showQuickJumper: true}} loading={this.state.loading}>\r\n                    <Column \r\n                        title=\"File Name\" \r\n                        dataIndex=\"fileName\" \r\n                        key=\"fileName\" \r\n                        render = {fileName => {\r\n                            return <a href=\"javascript:;\">{fileName}</a>    \r\n                        }}\r\n                    />\r\n                    <Column title=\"Requester\" dataIndex=\"requester\" key=\"requester\" />\r\n                    <Column title=\"Submit Date\" dataIndex=\"submitDate\" key=\"submitDate\" />\r\n                    <Column title=\"Comment\" dataIndex=\"comment\" key=\"comment\" />\r\n                    <Column\r\n                        title=\"Status\"\r\n                        dataIndex=\"tags\"\r\n                        key=\"tags\"\r\n                        render={tags => (\r\n                            <>\r\n                                {tags.map(tag => {\r\n                                    let color = \"blue\"\r\n                                    return (\r\n                                        <Tag color={color} key={tag}>\r\n                                            {tag}\r\n                                        </Tag>\r\n                                    )\r\n                                })}\r\n                            </>\r\n                        )}\r\n                    />\r\n                    <Column\r\n                        title=\"Action\"\r\n                        key=\"action\"\r\n                        render={(text, record) => (\r\n                            <Space size=\"middle\">\r\n                                <Link to={{pathname:\"/dashboard/do-request-detail\",state:{...record}}}>Details</Link>\r\n                            </Space>\r\n                        )}\r\n                    />\r\n                </Table>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({}),\r\n    {}\r\n)(withRouter(DOCheck))\r\n"]},"metadata":{},"sourceType":"module"}