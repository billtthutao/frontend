{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Button}from'antd';import React,{Component}from'react';import{connect}from'react-redux';import{Card,message}from'antd';import ReactEcharts from'echarts-for-react';import{withRouter}from'react-router-dom';import{getDoStatistics}from'../../api';import{unCacheUser}from'../../redux/actions/user';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DOStatistics=/*#__PURE__*/function(_Component){_inherits(DOStatistics,_Component);var _super=_createSuper(DOStatistics);function DOStatistics(props){var _this;_classCallCheck(this,DOStatistics);_this=_super.call(this,props);_this.updateChart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,dostatistics;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDoStatistics();case 2:response=_context.sent;if(response.code===0){dostatistics=response.data.dostatistics;_this.setState({dostatistics:dostatistics});}else if(response.code===405){_this.props.unCacheUser();_this.props.history.replace('/launch');}else{message.error(response.msg);}case 4:case\"end\":return _context.stop();}}},_callee);}));_this.getOption=function(){var option={title:{text:'Domestic Request Total'},tooltip:{},legend:{data:['Total']},xAxis:{data:[\"1+ Years\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]},yAxis:{},series:[{name:'Total',type:'bar',data:_this.state.dostatistics}]};return option;};_this.state={dostatistics:[0,0,0,0,0,0,0,0,0,0,0,0,0]};_this.updateChart();return _this;}_createClass(DOStatistics,[{key:\"render\",value:function render(){var title='Domestic Request Statistics';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.updateChart,children:\"Update\"})}),/*#__PURE__*/_jsx(Card,{title:title,children:/*#__PURE__*/_jsx(ReactEcharts,{option:this.getOption()})})]});}}]);return DOStatistics;}(Component);export default connect(function(state){return{};},{unCacheUser:unCacheUser})(withRouter(DOStatistics));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/DOStatistics/DOStatistics.jsx"],"names":["Button","React","Component","connect","Card","message","ReactEcharts","withRouter","getDoStatistics","unCacheUser","DOStatistics","props","updateChart","response","code","dostatistics","data","setState","history","replace","error","msg","getOption","option","title","text","tooltip","legend","xAxis","yAxis","series","name","type","state"],"mappings":"ujCAAA,OAASA,MAAT,KAAuB,MAAvB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,IAAR,CAAcC,OAAd,KAA4B,MAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAAQC,eAAR,KAA8B,WAA9B,CACA,OAASC,WAAT,KAA4B,0BAA5B,C,2FAEMC,CAAAA,Y,4GAEF,sBAAYC,KAAZ,CAAkB,8CACd,uBAAMA,KAAN,EADc,MAMlBC,WANkB,sEAMJ,mLACWJ,CAAAA,eAAe,EAD1B,QACNK,QADM,eAEV,GAAGA,QAAQ,CAACC,IAAT,GAAkB,CAArB,CAAuB,CACfC,YADe,CACAF,QAAQ,CAACG,IAAT,CAAcD,YADd,CAEnB,MAAKE,QAAL,CAAc,CAACF,YAAY,CAAZA,YAAD,CAAd,EACH,CAHD,IAGM,IAAGF,QAAQ,CAACC,IAAT,GAAkB,GAArB,CAAyB,CAC3B,MAAKH,KAAL,CAAWF,WAAX,GACA,MAAKE,KAAL,CAAWO,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B,EACH,CAHK,IAGD,CACDd,OAAO,CAACe,KAAR,CAAcP,QAAQ,CAACQ,GAAvB,EACH,CAVS,sDANI,SAmBlBC,SAnBkB,CAmBN,UAAM,CACd,GAAIC,CAAAA,MAAM,CAAG,CACTC,KAAK,CAAE,CACHC,IAAI,CAAE,wBADH,CADE,CAITC,OAAO,CAAE,EAJA,CAKTC,MAAM,CAAE,CACJX,IAAI,CAAC,CAAC,OAAD,CADD,CALC,CAQTY,KAAK,CAAE,CACHZ,IAAI,CAAE,CAAC,UAAD,CAAY,KAAZ,CAAkB,KAAlB,CAAwB,KAAxB,CAA8B,KAA9B,CAAoC,KAApC,CAA0C,KAA1C,CAAgD,KAAhD,CAAsD,KAAtD,CAA4D,KAA5D,CAAkE,KAAlE,CAAwE,KAAxE,CAA8E,KAA9E,CADH,CARE,CAWTa,KAAK,CAAE,EAXE,CAYTC,MAAM,CAAE,CAAC,CACLC,IAAI,CAAE,OADD,CAELC,IAAI,CAAE,KAFD,CAGLhB,IAAI,CAAE,MAAKiB,KAAL,CAAWlB,YAHZ,CAAD,CAZC,CAAb,CAmBA,MAAOQ,CAAAA,MAAP,CACH,CAxCiB,CAEd,MAAKU,KAAL,CAAa,CAAClB,YAAY,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAS,CAAT,CAAW,CAAX,CAAa,CAAb,CAAe,CAAf,CAAiB,CAAjB,CAAmB,CAAnB,CAAqB,CAArB,CAAuB,CAAvB,CAAyB,CAAzB,CAAd,CAAb,CACA,MAAKH,WAAL,GAHc,aAIjB,C,+CAsCD,iBAAS,CAEL,GAAMY,CAAAA,KAAK,CAAG,6BAAd,CAEA,mBACI,oCACI,KAAC,IAAD,wBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,OAAO,CAAE,KAAKZ,WAArC,oBADJ,EADJ,cAII,KAAC,IAAD,EAAM,KAAK,CAAEY,KAAb,uBACI,KAAC,YAAD,EAAc,MAAM,CAAE,KAAKF,SAAL,EAAtB,EADJ,EAJJ,GADJ,CAUH,C,0BA1DsBpB,S,EA6D3B,cAAeC,CAAAA,OAAO,CAClB,SAAA8B,KAAK,QAAK,EAAL,EADa,CAElB,CAACxB,WAAW,CAAXA,WAAD,CAFkB,CAAP,CAGbF,UAAU,CAACG,YAAD,CAHG,CAAf","sourcesContent":["import { Button } from 'antd'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Card, message} from 'antd'\r\nimport ReactEcharts from 'echarts-for-react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {getDoStatistics} from '../../api'\r\nimport { unCacheUser } from '../../redux/actions/user'\r\n    \r\nclass DOStatistics extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {dostatistics:[0,0,0,0,0,0,0,0,0,0,0,0,0]} \r\n        this.updateChart()  \r\n    }\r\n\r\n    updateChart = async () => {\r\n        let response = await getDoStatistics()\r\n        if(response.code === 0){\r\n            let dostatistics = response.data.dostatistics\r\n            this.setState({dostatistics})\r\n        }else if(response.code === 405){\r\n            this.props.unCacheUser()\r\n            this.props.history.replace('/launch')   \r\n        }else{\r\n            message.error(response.msg)\r\n        }\r\n    }\r\n\r\n    getOption = () => {\r\n        var option = {\r\n            title: {\r\n                text: 'Domestic Request Total'\r\n            },\r\n            tooltip: {},\r\n            legend: {\r\n                data:['Total']\r\n            },\r\n            xAxis: {\r\n                data: [\"1+ Years\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: 'Total',\r\n                type: 'bar',\r\n                data: this.state.dostatistics\r\n            }]\r\n        };\r\n\r\n        return option;\r\n    }\r\n    \r\n    render() {\r\n        \r\n        const title = 'Domestic Request Statistics'\r\n\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Button type='primary' onClick={this.updateChart}>Update</Button>\r\n                </Card>\r\n                <Card title={title}>\r\n                    <ReactEcharts option={this.getOption()} />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({}),\r\n    {unCacheUser}\r\n)(withRouter(DOStatistics))\r\n"]},"metadata":{},"sourceType":"module"}