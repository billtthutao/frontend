{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{cachePageNum2}from'../../redux/actions/page2';import{getrequestDetails}from'../../api';import{withRouter}from'react-router-dom';import{Button,Card,Table,message}from'antd';import{unCacheUser}from'../../redux/actions/user';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Column=Table.Column;var DOReqDetail=/*#__PURE__*/function(_Component){_inherits(DOReqDetail,_Component);var _super=_createSuper(DOReqDetail);function DOReqDetail(){var _this;_classCallCheck(this,DOReqDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={requestDetails:[],loading:false};_this.fetchrequestDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(key,type){var response,requestDetails;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});_context.next=3;return getrequestDetails(key,type);case 3:response=_context.sent;if(response.code===0){requestDetails=response.data;_this.setState({requestDetails:requestDetails,loading:false});}else if(response.code===405){_this.props.unCacheUser();_this.props.history.replace('/launch');}else{message.error(response.msg);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();return _this;}_createClass(DOReqDetail,[{key:\"componentDidMount\",value:function componentDidMount(){var key=this.props.location.state.key;this.fetchrequestDetails(key,'domestic');}},{key:\"render\",value:function render(){var _this2=this;var fileName=this.props.location.state.fileName;var title=\"Globla International Proxy Forms Request Detail - \".concat(fileName);var extra=/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){_this2.props.history.goBack();},children:\"Return\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{title:title,extra:extra,children:/*#__PURE__*/_jsxs(Table,{dataSource:this.state.requestDetails,bordered:true,pagination:{defaultPageSize:4,showQuickJumper:true,current:this.props.pageNum,onChange:function onChange(current){return _this2.props.cachePageNum2(current);}},loading:this.state.loading,children:[/*#__PURE__*/_jsx(Column,{title:\"Report ID\",dataIndex:\"reportId\"},\"reportId\"),/*#__PURE__*/_jsx(Column,{title:\"Expense Type\",dataIndex:\"expenseType\"},\"expenseType\"),/*#__PURE__*/_jsx(Column,{title:\"Expense Date\",dataIndex:\"expenseDate\"},\"expenseDate\"),/*#__PURE__*/_jsx(Column,{title:\"Amount\",dataIndex:\"expenseAmount\"},\"expenseAmount\"),/*#__PURE__*/_jsx(Column,{title:\"Result\",dataIndex:\"result\"},\"result\")]})})});}}]);return DOReqDetail;}(Component);export default connect(function(state){return{pageNum:state.pageNum2};},{cachePageNum2:cachePageNum2,unCacheUser:unCacheUser})(withRouter(DOReqDetail));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/DOReqDetail/DOReqDetail.jsx"],"names":["React","Component","connect","cachePageNum2","getrequestDetails","withRouter","Button","Card","Table","message","unCacheUser","Column","DOReqDetail","state","requestDetails","loading","fetchrequestDetails","key","type","setState","response","code","data","props","history","replace","error","msg","location","fileName","title","extra","goBack","defaultPageSize","showQuickJumper","current","pageNum","onChange","pageNum2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { cachePageNum2 } from '../../redux/actions/page2'\r\nimport { getrequestDetails } from '../../api'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button, Card, Table, message } from 'antd'\r\nimport { unCacheUser } from '../../redux/actions/user'\r\n\r\nconst { Column } = Table;\r\n\r\nclass DOReqDetail extends Component {\r\n    state = { requestDetails: [], loading: false }\r\n\r\n    fetchrequestDetails = async (key, type) => {\r\n        this.setState({ loading: true })\r\n        let response = await getrequestDetails(key, type)\r\n        if (response.code === 0) {\r\n            let requestDetails = response.data\r\n            this.setState({ requestDetails, loading: false })\r\n        }else if(response.code === 405){\r\n            this.props.unCacheUser()\r\n            this.props.history.replace('/launch')   \r\n        }else{\r\n            message.error(response.msg)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let { key } = this.props.location.state\r\n        this.fetchrequestDetails(key, 'domestic')\r\n    }\r\n\r\n    render() {\r\n        let { fileName } = this.props.location.state\r\n        const title = `Globla International Proxy Forms Request Detail - ${fileName}`\r\n        const extra = (\r\n            <Button type='primary' onClick={() => { this.props.history.goBack() }}>Return</Button>\r\n        )\r\n        return (\r\n            <div>\r\n                <Card title={title} extra={extra}>\r\n                    <Table\r\n                        dataSource={this.state.requestDetails}\r\n                        bordered\r\n                        pagination={{ defaultPageSize: 4, showQuickJumper: true, current: this.props.pageNum, onChange: (current) => this.props.cachePageNum2(current) }}\r\n                        loading={this.state.loading}\r\n                    >\r\n                        <Column title=\"Report ID\" dataIndex=\"reportId\" key=\"reportId\" />\r\n                        <Column title=\"Expense Type\" dataIndex=\"expenseType\" key=\"expenseType\" />\r\n                        <Column title=\"Expense Date\" dataIndex=\"expenseDate\" key=\"expenseDate\" />\r\n                        <Column title=\"Amount\" dataIndex=\"expenseAmount\" key=\"expenseAmount\" />\r\n                        <Column title=\"Result\" dataIndex=\"result\" key=\"result\" />\r\n                    </Table>\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({pageNum:state.pageNum2}),\r\n    {cachePageNum2, unCacheUser}\r\n)(withRouter(DOReqDetail))\r\n"]},"metadata":{},"sourceType":"module"}