{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Button}from'antd';import React,{Component}from'react';import{connect}from'react-redux';import{Card,message}from'antd';import{withRouter}from'react-router-dom';import ReactEcharts from'echarts-for-react';import{getGiStatistics}from'../../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GIStatistics=/*#__PURE__*/function(_Component){_inherits(GIStatistics,_Component);var _super=_createSuper(GIStatistics);function GIStatistics(props){var _this;_classCallCheck(this,GIStatistics);_this=_super.call(this,props);_this.updateChart=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,gistatistics;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getGiStatistics();case 2:response=_context.sent;if(response.code===0){gistatistics=response.data.gistatistics;_this.setState({gistatistics:gistatistics});}else if(response.code===405){_this.props.unCacheUser();_this.props.history.replace('/launch');}else{message.error(response.msg);}case 4:case\"end\":return _context.stop();}}},_callee);}));_this.getOption=function(){var option={title:{text:'Global-Int Request Total'},tooltip:{},legend:{data:['Total']},xAxis:{data:[\"1+ Years\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]},yAxis:{},series:[{name:'Total',type:'bar',data:_this.state.gistatistics}]};return option;};_this.state={gistatistics:[0,0,0,0,0,0,0,0,0,0,0,0,0]};_this.updateChart();return _this;}_createClass(GIStatistics,[{key:\"render\",value:function render(){var title='Global International Request Statistics';return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.updateChart,children:\"Update\"})}),/*#__PURE__*/_jsx(Card,{title:title,children:/*#__PURE__*/_jsx(ReactEcharts,{option:this.getOption()})})]});}}]);return GIStatistics;}(Component);export default connect(function(state){return{};},{})(withRouter(GIStatistics));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/GIStatistics/GIStatistics.jsx"],"names":["Button","React","Component","connect","Card","message","withRouter","ReactEcharts","getGiStatistics","GIStatistics","props","updateChart","response","code","gistatistics","data","setState","unCacheUser","history","replace","error","msg","getOption","option","title","text","tooltip","legend","xAxis","yAxis","series","name","type","state"],"mappings":"ujCAAA,OAASA,MAAT,KAAuB,MAAvB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,IAAR,CAAcC,OAAd,KAA4B,MAA5B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,OAAQC,eAAR,KAA8B,WAA9B,C,2FAEMC,CAAAA,Y,4GAEF,sBAAYC,KAAZ,CAAkB,8CACd,uBAAMA,KAAN,EADc,MAMlBC,WANkB,sEAMJ,mLACWH,CAAAA,eAAe,EAD1B,QACNI,QADM,eAEV,GAAGA,QAAQ,CAACC,IAAT,GAAkB,CAArB,CAAuB,CACfC,YADe,CACAF,QAAQ,CAACG,IAAT,CAAcD,YADd,CAEnB,MAAKE,QAAL,CAAc,CAACF,YAAY,CAAZA,YAAD,CAAd,EACH,CAHD,IAGM,IAAGF,QAAQ,CAACC,IAAT,GAAkB,GAArB,CAAyB,CAC3B,MAAKH,KAAL,CAAWO,WAAX,GACA,MAAKP,KAAL,CAAWQ,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B,EACH,CAHK,IAGD,CACDd,OAAO,CAACe,KAAR,CAAcR,QAAQ,CAACS,GAAvB,EACH,CAVS,sDANI,SAmBlBC,SAnBkB,CAmBN,UAAM,CACd,GAAIC,CAAAA,MAAM,CAAG,CACTC,KAAK,CAAE,CACHC,IAAI,CAAE,0BADH,CADE,CAITC,OAAO,CAAE,EAJA,CAKTC,MAAM,CAAE,CACJZ,IAAI,CAAC,CAAC,OAAD,CADD,CALC,CAQTa,KAAK,CAAE,CACHb,IAAI,CAAE,CAAC,UAAD,CAAY,KAAZ,CAAkB,KAAlB,CAAwB,KAAxB,CAA8B,KAA9B,CAAoC,KAApC,CAA0C,KAA1C,CAAgD,KAAhD,CAAsD,KAAtD,CAA4D,KAA5D,CAAkE,KAAlE,CAAwE,KAAxE,CAA8E,KAA9E,CADH,CARE,CAWTc,KAAK,CAAE,EAXE,CAYTC,MAAM,CAAE,CAAC,CACLC,IAAI,CAAE,OADD,CAELC,IAAI,CAAE,KAFD,CAGLjB,IAAI,CAAE,MAAKkB,KAAL,CAAWnB,YAHZ,CAAD,CAZC,CAAb,CAmBA,MAAOS,CAAAA,MAAP,CACH,CAxCiB,CAEd,MAAKU,KAAL,CAAa,CAACnB,YAAY,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAS,CAAT,CAAW,CAAX,CAAa,CAAb,CAAe,CAAf,CAAiB,CAAjB,CAAmB,CAAnB,CAAqB,CAArB,CAAuB,CAAvB,CAAyB,CAAzB,CAAd,CAAb,CACA,MAAKH,WAAL,GAHc,aAIjB,C,+CAqCD,iBAAS,CAEL,GAAMa,CAAAA,KAAK,CAAG,yCAAd,CAEA,mBACI,oCACI,KAAC,IAAD,wBACI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,OAAO,CAAE,KAAKb,WAArC,oBADJ,EADJ,cAII,KAAC,IAAD,EAAM,KAAK,CAAEa,KAAb,uBACI,KAAC,YAAD,EAAc,MAAM,CAAE,KAAKF,SAAL,EAAtB,EADJ,EAJJ,GADJ,CAUH,C,0BAzDsBpB,S,EA4D3B,cAAeC,CAAAA,OAAO,CAClB,SAAA8B,KAAK,QAAK,EAAL,EADa,CAElB,EAFkB,CAAP,CAGb3B,UAAU,CAACG,YAAD,CAHG,CAAf","sourcesContent":["import { Button } from 'antd'\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {Card, message} from 'antd'\r\nimport { withRouter } from 'react-router-dom'\r\nimport ReactEcharts from 'echarts-for-react'\r\nimport {getGiStatistics} from '../../api'\r\n    \r\nclass GIStatistics extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {gistatistics:[0,0,0,0,0,0,0,0,0,0,0,0,0]} \r\n        this.updateChart()  \r\n    }\r\n\r\n    updateChart = async () => {\r\n        let response = await getGiStatistics()\r\n        if(response.code === 0){\r\n            let gistatistics = response.data.gistatistics\r\n            this.setState({gistatistics})\r\n        }else if(response.code === 405){\r\n            this.props.unCacheUser()\r\n            this.props.history.replace('/launch')   \r\n        }else{\r\n            message.error(response.msg)\r\n        }\r\n    }\r\n\r\n    getOption = () => {\r\n        var option = {\r\n            title: {\r\n                text: 'Global-Int Request Total'\r\n            },\r\n            tooltip: {},\r\n            legend: {\r\n                data:['Total']\r\n            },\r\n            xAxis: {\r\n                data: [\"1+ Years\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: 'Total',\r\n                type: 'bar',\r\n                data: this.state.gistatistics\r\n            }]\r\n        };\r\n\r\n        return option;\r\n    }\r\n    render() {\r\n\r\n        const title = 'Global International Request Statistics'\r\n\r\n        return (\r\n            <div>\r\n                <Card>\r\n                    <Button type='primary' onClick={this.updateChart}>Update</Button>\r\n                </Card>\r\n                <Card title={title}>\r\n                    <ReactEcharts option={this.getOption()} />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({}),\r\n    {}\r\n)(withRouter(GIStatistics))\r\n"]},"metadata":{},"sourceType":"module"}