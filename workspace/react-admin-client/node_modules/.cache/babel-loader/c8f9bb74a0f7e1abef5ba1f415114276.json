{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{connect}from'react-redux';import React,{PureComponent}from'react';import'./Launch.less';import Logo from'../../assets/images/logo.png';import{Button,message}from'antd';import{userAuth}from'../../api';import{cacheUser}from'../../redux/actions/user';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Launch=/*#__PURE__*/function(_PureComponent){_inherits(Launch,_PureComponent);var _super=_createSuper(Launch);function Launch(){var _this;_classCallCheck(this,Launch);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.launch=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return userAuth();case 2:response=_context.sent;if(response.code===0){message.success('Authorization is successful');//Cache the user in store\n_this.props.cacheUser(response.data.attributes.sub);//Route to dashboard\n_this.props.history.replace('/dashboard');}else{message.error(response.msg);}case 4:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(Launch,[{key:\"render\",value:function render(){var user=this.props.user;if(Object.keys(user).length!==0){return/*#__PURE__*/_jsx(Redirect,{to:\"/dashboard\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"launch\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"launch-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Concur Proxy Form Submittion System\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"launch-content\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Important Note:\"}),/*#__PURE__*/_jsx(\"span\",{children:\"This system is used by particular authorized users to submit concur report by proxy.\"}),/*#__PURE__*/_jsx(\"span\",{children:\"It can be used for:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"- Mobility GI assignments of the US and Officers direct billed expenses which has a payment type of company paid\"}),/*#__PURE__*/_jsx(\"li\",{children:\"- Mobility Domestic assignments for the US and Officers direct billed expenses which has a payment type of company paid\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"launch-button\",children:/*#__PURE__*/_jsx(Button,{onClick:this.launch,type:\"primary\",size:\"large\",children:\"Launch\"})})]})]});}}]);return Launch;}(PureComponent);export default connect(function(state){return{user:state.user};},{cacheUser:cacheUser})(Launch);","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/Launch/Launch.jsx"],"names":["connect","React","PureComponent","Logo","Button","message","userAuth","cacheUser","Redirect","Launch","launch","response","code","success","props","data","attributes","sub","history","replace","error","msg","user","Object","keys","length","state"],"mappings":"ujCAAA,OAAQA,OAAR,KAAsB,aAAtB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,MAAhC,CACA,OAAQC,QAAR,KAAuB,WAAvB,CACA,OAAQC,SAAR,KAAwB,0BAAxB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,C,2FAEMC,CAAAA,M,mUAEFC,M,sEAAS,sKAEkBJ,CAAAA,QAAQ,EAF1B,QAECK,QAFD,eAIL,GAAGA,QAAQ,CAACC,IAAT,GAAkB,CAArB,CAAuB,CACnBP,OAAO,CAACQ,OAAR,CAAgB,6BAAhB,EACA;AACA,MAAKC,KAAL,CAAWP,SAAX,CAAqBI,QAAQ,CAACI,IAAT,CAAcC,UAAd,CAAyBC,GAA9C,EACA;AACA,MAAKH,KAAL,CAAWI,OAAX,CAAmBC,OAAnB,CAA2B,YAA3B,EACH,CAND,IAMO,CACHd,OAAO,CAACe,KAAR,CAAcT,QAAQ,CAACU,GAAvB,EACH,CAZI,sD,0DAeT,iBAAS,IACAC,CAAAA,IADA,CACQ,KAAKR,KADb,CACAQ,IADA,CAGL,GAAGC,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,MAAlB,GAA6B,CAAhC,CAAkC,CAC9B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EAAP,CACH,CAED,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,gBAAQ,SAAS,CAAC,eAAlB,wBACI,YAAK,GAAG,CAAEtB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADJ,cAEI,2DAFJ,GADJ,cAKI,iBAAS,SAAS,CAAC,gBAAnB,wBACI,yCADJ,cAEI,8GAFJ,cAGI,6CAHJ,cAII,mCACI,wIADJ,cAEI,+IAFJ,GAJJ,cAQI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKO,MAAtB,CAA8B,IAAI,CAAC,SAAnC,CAA6C,IAAI,CAAC,OAAlD,oBADJ,EARJ,GALJ,GADJ,CAoBH,C,oBA5CgBR,a,EA+CrB,cAAeF,CAAAA,OAAO,CAClB,SAAA0B,KAAK,QAAK,CAACJ,IAAI,CAACI,KAAK,CAACJ,IAAZ,CAAL,EADa,CAElB,CACIf,SAAS,CAATA,SADJ,CAFkB,CAAP,CAKTE,MALS,CAAf","sourcesContent":["import {connect} from 'react-redux'\r\nimport React, { PureComponent } from 'react'\r\nimport './Launch.less'\r\nimport Logo from '../../assets/images/logo.png'\r\nimport { Button, message } from 'antd';\r\nimport {userAuth} from '../../api'\r\nimport {cacheUser} from '../../redux/actions/user'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nclass Launch extends PureComponent {\r\n\r\n    launch = async () => {\r\n        //axios to do authorization\r\n        const response = await userAuth()\r\n\r\n        if(response.code === 0){\r\n            message.success('Authorization is successful')\r\n            //Cache the user in store\r\n            this.props.cacheUser(response.data.attributes.sub)\r\n            //Route to dashboard\r\n            this.props.history.replace('/dashboard')\r\n        } else {\r\n            message.error(response.msg)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let {user} = this.props;\r\n\r\n        if(Object.keys(user).length !== 0){\r\n            return <Redirect to=\"/dashboard\"></Redirect>\r\n        }\r\n\r\n        return (\r\n            <div className='launch'>\r\n                <header className='launch-header'>\r\n                    <img src={Logo} alt='logo' />\r\n                    <h1>Concur Proxy Form Submittion System</h1>\r\n                </header>\r\n                <section className='launch-content'>\r\n                    <span>Important Note:</span>\r\n                    <span>This system is used by particular authorized users to submit concur report by proxy.</span>\r\n                    <span>It can be used for:</span>\r\n                    <ul>\r\n                        <li>- Mobility GI assignments of the US and Officers direct billed expenses which has a payment type of company paid</li>\r\n                        <li>- Mobility Domestic assignments for the US and Officers direct billed expenses which has a payment type of company paid</li>\r\n                    </ul>\r\n                    <div className='launch-button'>\r\n                        <Button onClick={this.launch} type=\"primary\" size='large'>Launch</Button>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({user:state.user}),\r\n    {\r\n        cacheUser\r\n    }\r\n    )(Launch)\r\n"]},"metadata":{},"sourceType":"module"}