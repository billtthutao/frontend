{"ast":null,"code":"import _classCallCheck from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/TaoHu/Desktop/\\u524D\\u7AEF/workspace/react-admin-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import'./DashboardHeader.less';import{unCacheUser}from'../../redux/actions/user';import Logo from'../../assets/images/logo.png';import{withRouter}from'react-router-dom';import{Layout,Button,Input,message,Modal}from'antd';import{ExclamationCircleOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header;var Search=Input.Search;var onSearch=function onSearch(value){return console.log(value);};var confirm=Modal.confirm;var DashboardHeader=/*#__PURE__*/function(_Component){_inherits(DashboardHeader,_Component);var _super=_createSuper(DashboardHeader);function DashboardHeader(){var _this;_classCallCheck(this,DashboardHeader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.logoff=function(props){confirm({title:'Do you Want to logoff?',icon:/*#__PURE__*/_jsx(ExclamationCircleOutlined,{}),content:'',onOk:function onOk(){message.success('Logoff successfully');//clear the cached user in store\n_this.props.unCacheUser();//Route to launch\n_this.props.history.replace('/launch');},onCancel:function onCancel(){}});};return _this;}_createClass(DashboardHeader,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Header,{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",this.props.user.email]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"logoff\",children:[/*#__PURE__*/_jsx(Search,{placeholder:\"input search text\",onSearch:onSearch,style:{width:200}}),/*#__PURE__*/_jsx(Button,{onClick:this.logoff,type:\"link\",children:\"Logoff\"})]})]});}}]);return DashboardHeader;}(Component);export default connect(function(state){return{user:state.user};},{unCacheUser:unCacheUser})(withRouter(DashboardHeader));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/DashboardHeader/DashboardHeader.jsx"],"names":["React","Component","connect","unCacheUser","Logo","withRouter","Layout","Button","Input","message","Modal","ExclamationCircleOutlined","Header","Search","onSearch","value","console","log","confirm","DashboardHeader","logoff","props","title","icon","content","onOk","success","history","replace","onCancel","user","email","width","state"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,wBAAP,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,8BAAjB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,MAAT,CAAiBC,MAAjB,CAAyBC,KAAzB,CAAgCC,OAAhC,CAAyCC,KAAzC,KAAsD,MAAtD,CACA,OAASC,yBAAT,KAA0C,mBAA1C,C,2FAEQC,CAAAA,M,CAAWN,M,CAAXM,M,IACAC,CAAAA,M,CAAWL,K,CAAXK,M,CACR,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAAtB,C,GACQG,CAAAA,O,CAAYR,K,CAAZQ,O,IAEFC,CAAAA,e,+VAEFC,M,CAAS,SAACC,KAAD,CAAW,CAChBH,OAAO,CAAC,CACJI,KAAK,CAAE,wBADH,CAEJC,IAAI,cAAE,KAAC,yBAAD,IAFF,CAGJC,OAAO,CAAE,EAHL,CAIJC,IAAI,CAAE,eAAM,CACRhB,OAAO,CAACiB,OAAR,CAAgB,qBAAhB,EACA;AACA,MAAKL,KAAL,CAAWlB,WAAX,GACA;AACA,MAAKkB,KAAL,CAAWM,OAAX,CAAmBC,OAAnB,CAA2B,SAA3B,EACH,CAVG,CAWJC,QAXI,oBAWO,CACV,CAZG,CAAD,CAAP,CAcH,C,iEAED,iBAAS,CACL,mBACI,MAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,wBACI,YAAK,SAAS,CAAC,MAAf,uBACI,YAAK,GAAG,CAAEzB,IAAV,CAAgB,GAAG,CAAC,MAApB,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,WAAf,uBACI,oCAAgB,KAAKiB,KAAL,CAAWS,IAAX,CAAgBC,KAAhC,GADJ,EAJJ,cAOI,aAAK,SAAS,CAAC,QAAf,wBACI,KAAC,MAAD,EAAQ,WAAW,CAAC,mBAApB,CAAwC,QAAQ,CAAEjB,QAAlD,CAA4D,KAAK,CAAE,CAAEkB,KAAK,CAAE,GAAT,CAAnE,EADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKZ,MAAtB,CAA8B,IAAI,CAAC,MAAnC,oBAFJ,GAPJ,GADJ,CAcH,C,6BAlCyBnB,S,EAqC9B,cAAeC,CAAAA,OAAO,CAClB,SAAA+B,KAAK,QAAK,CAAEH,IAAI,CAAEG,KAAK,CAACH,IAAd,CAAL,EADa,CAElB,CAAE3B,WAAW,CAAXA,WAAF,CAFkB,CAAP,CAGbE,UAAU,CAACc,eAAD,CAHG,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport './DashboardHeader.less'\r\nimport { unCacheUser } from '../../redux/actions/user'\r\nimport Logo from '../../assets/images/logo.png'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Layout, Button, Input, message, Modal } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\nconst onSearch = value => console.log(value);\r\nconst { confirm } = Modal;\r\n\r\nclass DashboardHeader extends Component {\r\n\r\n    logoff = (props) => {\r\n        confirm({\r\n            title: 'Do you Want to logoff?',\r\n            icon: <ExclamationCircleOutlined />,\r\n            content: '',\r\n            onOk: () => {\r\n                message.success('Logoff successfully')\r\n                //clear the cached user in store\r\n                this.props.unCacheUser()\r\n                //Route to launch\r\n                this.props.history.replace('/launch')\r\n            },\r\n            onCancel() {\r\n            },\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Header className=\"dashboard-header\">\r\n                <div className=\"logo\" >\r\n                    <img src={Logo} alt='logo'></img>\r\n                </div>\r\n                <div className=\"user-info\">\r\n                    <span>Welcome, {this.props.user.email}</span>\r\n                </div>\r\n                <div className=\"logoff\">\r\n                    <Search placeholder=\"input search text\" onSearch={onSearch} style={{ width: 200 }} />\r\n                    <Button onClick={this.logoff} type=\"link\" >Logoff</Button>\r\n                </div>\r\n            </Header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({ user: state.user }),\r\n    { unCacheUser }\r\n)(withRouter(DashboardHeader))\r\n"]},"metadata":{},"sourceType":"module"}