{"ast":null,"code":"import axios from 'axios';\nimport { message } from 'antd';\nexport default function ajax(url, data = {}, type = 'GET') {\n  return new Promise((resolve, reject) => {\n    let promise;\n\n    if (type === 'GET') {\n      promise = axios.get(url, {\n        params: data\n      });\n    } else {\n      promise = axios.post(url, data);\n    }\n\n    promise.then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      console.log('ajax...');\n      message.error('Request error: ' + error.message);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/api/ajax.jsx"],"names":["axios","message","ajax","url","data","type","Promise","resolve","reject","promise","get","params","post","then","response","catch","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,MAAtB;AAEA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAI,GAAC,EAAxB,EAA4BC,IAAI,GAAC,KAAjC,EAAuC;AAClD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIC,OAAJ;;AAEA,QAAGJ,IAAI,KAAK,KAAZ,EAAkB;AACdI,MAAAA,OAAO,GAAGT,KAAK,CAACU,GAAN,CAAUP,GAAV,EAAe;AAACQ,QAAAA,MAAM,EAAEP;AAAT,OAAf,CAAV;AACH,KAFD,MAEO;AACHK,MAAAA,OAAO,GAAGT,KAAK,CAACY,IAAN,CAAWT,GAAX,EAAgBC,IAAhB,CAAV;AACH;;AAEDK,IAAAA,OAAO,CAACI,IAAR,CAAaC,QAAQ,IAAI;AACrBP,MAAAA,OAAO,CAACO,QAAQ,CAACV,IAAV,CAAP;AACH,KAFD,EAEGW,KAFH,CAESC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAjB,MAAAA,OAAO,CAACe,KAAR,CAAc,oBAAmBA,KAAK,CAACf,OAAvC;AACH,KALD;AAMH,GAfM,CAAP;AAgBH","sourcesContent":["import axios from 'axios'\r\nimport {message} from 'antd'\r\n\r\nexport default function ajax(url, data={}, type='GET'){\r\n    return new Promise((resolve, reject) => {\r\n        let promise;\r\n\r\n        if(type === 'GET'){\r\n            promise = axios.get(url, {params: data})\r\n        } else {\r\n            promise = axios.post(url, data)\r\n        }\r\n\r\n        promise.then(response => {\r\n            resolve(response.data)\r\n        }).catch(error => {\r\n            console.log('ajax...')\r\n            message.error('Request error: '+ error.message)\r\n        })\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}