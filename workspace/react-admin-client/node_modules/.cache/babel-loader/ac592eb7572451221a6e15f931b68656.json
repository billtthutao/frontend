{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TaoHu\\\\Desktop\\\\\\u524D\\u7AEF\\\\workspace\\\\react-admin-client\\\\src\\\\containers\\\\GICheck\\\\GICheck.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Button, Card, Table, Tag, Space, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\nimport { getSubmittedRequests } from '../../api';\nimport { Link } from 'react-router-dom';\nimport { cachePageNum } from '../../redux/actions/page';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Column\n} = Table;\n\nclass GICheck extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      submittedRequests: [],\n      loading: false\n    };\n\n    this.fetchSubmittedRequests = async type => {\n      this.setState({\n        loading: true\n      });\n      let response = await getSubmittedRequests(type);\n\n      if (response.status === 0) {\n        let submittedRequests = response.data;\n        this.setState({\n          submittedRequests,\n          loading: false\n        });\n      } else {\n        message.error(\"Fetch submitted requests failed\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSubmittedRequests('global-international');\n  }\n\n  render() {\n    const title = 'Check Global International Mobility Proxy Forms';\n\n    const extra = /*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 53\n      }, this),\n      onClick: () => this.props.history.push('/dashboard/gi-submit'),\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 24\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: title,\n      extra: extra,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        dataSource: this.state.submittedRequests,\n        bordered: true,\n        pagination: {\n          defaultPageSize: 4,\n          showQuickJumper: true,\n          current: this.props.pageNum,\n          onChange: current => this.props.cachePageNum(current)\n        },\n        loading: this.state.loading,\n        children: [/*#__PURE__*/_jsxDEV(Column, {\n          title: \"File Name\",\n          dataIndex: \"fileName\",\n          render: fileName => {\n            return /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"javascript:;\",\n              children: fileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 36\n            }, this);\n          }\n        }, \"fileName\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          title: \"Requestor\",\n          dataIndex: \"requestor\"\n        }, \"requestor\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          title: \"Submit Date\",\n          dataIndex: \"submitDate\"\n        }, \"submitDate\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          title: \"Comment\",\n          dataIndex: \"comment\"\n        }, \"comment\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          title: \"Status\",\n          dataIndex: \"tags\",\n          render: tags => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: tags.map(tag => {\n              let color = \"blue\";\n              return /*#__PURE__*/_jsxDEV(Tag, {\n                color: color,\n                children: tag\n              }, tag, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false)\n        }, \"tags\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Column, {\n          title: \"Action\",\n          render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n            size: \"middle\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: {\n                pathname: \"/dashboard/gi-request-detail\",\n                state: { ...record\n                }\n              },\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)\n        }, \"action\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default connect(state => ({\n  pageNum: state.pageNum\n}), {\n  cachePageNum\n})(withRouter(GICheck));","map":{"version":3,"sources":["C:/Users/TaoHu/Desktop/前端/workspace/react-admin-client/src/containers/GICheck/GICheck.jsx"],"names":["React","Component","withRouter","Button","Card","Table","Tag","Space","message","PlusOutlined","connect","getSubmittedRequests","Link","cachePageNum","Column","GICheck","state","submittedRequests","loading","fetchSubmittedRequests","type","setState","response","status","data","error","componentDidMount","render","title","extra","props","history","push","defaultPageSize","showQuickJumper","current","pageNum","onChange","fileName","tags","map","tag","color","text","record","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Button, Card, Table, Tag, Space, message } from 'antd'\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { connect } from 'react-redux';\r\nimport {getSubmittedRequests} from '../../api'\r\nimport {Link} from 'react-router-dom'\r\nimport {cachePageNum} from '../../redux/actions/page'\r\n\r\nconst { Column } = Table;\r\n\r\nclass GICheck extends Component {\r\n    state = {submittedRequests:[],loading:false}\r\n\r\n    fetchSubmittedRequests = async (type) => {\r\n        this.setState({loading:true})\r\n        let response = await getSubmittedRequests(type)\r\n        if(response.status === 0){\r\n            let submittedRequests = response.data\r\n            this.setState({submittedRequests,loading:false})\r\n        }else{\r\n            message.error(\"Fetch submitted requests failed\")\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.fetchSubmittedRequests('global-international')\r\n    }\r\n\r\n    render() {\r\n        const title = 'Check Global International Mobility Proxy Forms';\r\n        const extra = (<Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this.props.history.push('/dashboard/gi-submit')}>Add</Button>)\r\n\r\n        return (\r\n            <Card title={title} extra={extra}>\r\n                <Table \r\n                    dataSource={this.state.submittedRequests} \r\n                    bordered \r\n                    pagination={{defaultPageSize:4, showQuickJumper: true, current:this.props.pageNum, onChange:(current)=>this.props.cachePageNum(current)}} \r\n                    loading={this.state.loading} \r\n                >\r\n                    <Column \r\n                        title=\"File Name\" \r\n                        dataIndex=\"fileName\" \r\n                        key=\"fileName\" \r\n                        render = {fileName => {\r\n                            return <a href=\"javascript:;\">{fileName}</a>    \r\n                        }}\r\n                    />\r\n                    <Column title=\"Requestor\" dataIndex=\"requestor\" key=\"requestor\" />\r\n                    <Column title=\"Submit Date\" dataIndex=\"submitDate\" key=\"submitDate\" />\r\n                    <Column title=\"Comment\" dataIndex=\"comment\" key=\"comment\" />\r\n                    <Column\r\n                        title=\"Status\"\r\n                        dataIndex=\"tags\"\r\n                        key=\"tags\"\r\n                        render={tags => (\r\n                            <>\r\n                                {tags.map(tag => {\r\n                                    let color = \"blue\"\r\n                                    return (\r\n                                        <Tag color={color} key={tag}>\r\n                                            {tag}\r\n                                        </Tag>\r\n                                    )\r\n                                })}\r\n                            </>\r\n                        )}\r\n                    />\r\n                    <Column\r\n                        title=\"Action\"\r\n                        key=\"action\"\r\n                        render={(text, record) => (\r\n                            <Space size=\"middle\">\r\n                                <Link to={{pathname:\"/dashboard/gi-request-detail\",state:{...record}}}>Details</Link>\r\n                            </Space>\r\n                        )}\r\n                    />\r\n                </Table>\r\n            </Card>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    state => ({pageNum:state.pageNum}),\r\n    {cachePageNum}\r\n)(withRouter(GICheck))\r\n"]},"metadata":{},"sourceType":"module"}